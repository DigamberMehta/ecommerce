<% layout('layouts/boilerplate') %>
<div class="edit-review-section">
    <h2>Edit Review</h2>
    <form action="/products/<%= product._id %>/reviews/<%= review._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label for="review-title">Title</label>
            <input type="text" id="review-title" name="review[title]" value="<%= review.title %>" placeholder="Enter the title of your review">
        </div>
        <div class="form-group">
            <label for="review-body">Review</label>
            <textarea id="review-body" name="review[comment]" placeholder="Write your review here" rows="5"><%= review.comment %></textarea>
        </div>
        <div class="form-group">
            <label for="review-rating">Rating</label>
            <input type="range" min="1" max="5" id="review-rating" name="review[rating]" value="<%= review.rating %>">
        </div>
        <div class="form-group">
            <label for="existing-images">Existing Images</label>
            <div id="existing-images">
                <% review.image.forEach((img, index) => { %>
                    <div class="existing-image">
                        <img src="<%= img %>" alt="Review Image" class="review-image">
                        <input type="checkbox" name="deleteImages[]" value="<%= img %>"> Delete
                    </div>
                <% }) %>
            </div>
        </div>
        <div class="form-group">
            <label for="review-images">Upload New Images</label>
            <input type="file" id="review-images" name="images" multiple>
        </div>
        <button type="submit" class="review-submit">Update Review</button>
    </form>
</div>
