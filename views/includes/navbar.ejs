
<style>
    .suggestion-image {
    width: 25;
    height: 50px;
    object-fit: cover;
    border-radius: 4px;
    margin-right: 10px;
}

.suggestion-content {
    display: flex;
    align-items: center;
}

.suggestion-details {
    display: flex;
    flex-direction: column;
}

</style>
<nav class="navbar">
    <div class="logo-container">
        <a href="/home" class="logo">ShopLogo</a>
    </div>

    <div class="search-bar">
        <form id="search-form" action="/search" method="GET">
            <input type="text" name="q" id="search-input" placeholder="Search products..." autocomplete="off" />
            <i class="fa-regular fa-magnifying-glass search-icon" onclick="document.getElementById('search-form').submit();"></i>
        </form>
        <div id="suggestions" class="suggestions-box"></div>
    </div>

    <div class="dropdown">
        <button>
            <div class="profile"><i class="fa-light fa-user"></i>profile</div>
        </button>
        <div class="dropdown-content">
            <ul class="dropdown-list">
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Services</a></li>
                <li><a href="#">Products</a></li>
            </ul>
        </div>
    </div>

    <div class="menu-list">
        <div class="order-button">Your Order</div>
        <div class="cart-button"><i class="fa-thin fa-cart-shopping"></i>Cart</div>
    </div>
</nav>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('search-input');
    const suggestionsBox = document.getElementById('suggestions');
    const MIN_CHARACTERS = 3; // Minimum number of characters before showing suggestions

    searchInput.addEventListener('input', async () => {
        const query = searchInput.value.trim();

        if (query.length < MIN_CHARACTERS) {
            suggestionsBox.innerHTML = '';
            suggestionsBox.style.display = 'none';
            return;
        }

        try {
            const response = await fetch(`/search?q=${encodeURIComponent(query)}&suggestions=true`);
            const suggestions = await response.json();

            if (suggestions.length === 0) {
                suggestionsBox.innerHTML = '<p>No suggestions found.</p>';
                suggestionsBox.style.display = 'block';
                return;
            }

            suggestionsBox.innerHTML = suggestions.map(suggestion => `
                <a href="/products/${suggestion._id}/${suggestion.slug}" class="suggestion-item">
                    <div class="suggestion-content">
                        <img src="${suggestion.images[0]}" alt="${suggestion.title}" class="suggestion-image">
                        <div class="suggestion-details">
                            <div class="suggestion-title">${suggestion.title}</div>
                            <div class="suggestion-price">$${suggestion.sellingPrice.toFixed(2)}</div>
                        </div>
                    </div>
                </a>
            `).join('');
            suggestionsBox.style.display = 'block';
        } catch (error) {
            console.error('Error fetching suggestions:', error);
        }
    });

    document.addEventListener('click', (event) => {
        if (!event.target.closest('.search-bar')) {
            suggestionsBox.style.display = 'none';
        }
    });
});


    </script>
    
